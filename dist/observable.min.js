var Observable=function(){"use strict";function t(){this.listeners={}}function r(t){return function(r,e,n){var s=this.listeners[r];return s||(s=this.listeners[r]=[]),s.push({one:t,handler:e,ctx:n}),this}}function e(t,r,e){if(t)if(r){if(e){var n=this.listeners[t];if(!n)return this;for(var s=0;s<n.length;s++){var i=n[s];i.handler===r&&i.ctx===e&&n.splice(s--,1)}return this}var n=this.listeners[t];if(!n)return this;for(var s=0;s<n.length;s++){var i=n[s];i.handler===r&&n.splice(s--,1)}}else this.listeners[t]=[];else this.listeners={}}function n(t){for(var r=new Array(arguments.length-1),e=0;e<r.length;e++)r[e]=arguments[e+1];var n=this.listeners[t];if(!n)return this;for(var e=0;e<n.length;e++){var s=n[e];s.handler.apply(s.ctx||this,r),s.one&&n.splice(e--,1)}}return t.prototype.on=r(!1),t.prototype.one=r(!0),t.prototype.off=e,t.prototype.trigger=n,t}();