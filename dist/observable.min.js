!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Observable=t()}(this,function(){"use strict";function e(t){if(!(this instanceof e))return new e(t);if(Object.defineProperty(this,"listeners",{value:{},writable:!0}),t)for(var r in t)this[r]=t[r]}function t(e){return function(t,r,n){var i=this.listeners[t];return i||(i=this.listeners[t]=[]),i.push({one:e,handler:r,ctx:n}),this}}function r(e,t,r){if(e)if(t){if(r){var n=this.listeners[e];if(!n)return this;for(var i=0;i<n.length;i++){var s=n[i];s.handler===t&&s.ctx===r&&n.splice(i--,1)}return this}var n=this.listeners[e];if(!n)return this;for(var i=0;i<n.length;i++){var s=n[i];s.handler===t&&n.splice(i--,1)}}else this.listeners[e]=[];else this.listeners={}}function n(e){for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n=this.listeners[e];if(!n)return this;for(var r=0;r<n.length;r++){var i=n[r];i.handler.apply(i.ctx||this,t),i.one&&n.splice(r--,1)}}return e.prototype.on=t(!1),e.prototype.one=t(!0),e.prototype.off=r,e.prototype.trigger=n,e});